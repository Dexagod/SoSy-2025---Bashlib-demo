<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta charset="utf-8" />
  <title property="foaf:name schema:name">Providing Command Line support for Solid Workflows</title>
  <link rel="stylesheet" media="screen" href="styles/screen.css" />
  <link rel="stylesheet" media="print"  href="styles/print.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <meta name="citation_title" content="Providing Command Line support for Solid Workflows">
  
  
  <meta name="citation_publication_date" content="2025/03/11" />
</head>

<body prefix="dctypes: http://purl.org/dc/dcmitype/ pimspace: http://www.w3.org/ns/pim/space# rsa: http://www.w3.org/ns/auth/rsa# cert: http://www.w3.org/ns/auth/cert# wgs: http://www.w3.org/2003/01/geo/wgs84_pos# biblio: http://purl.org/net/biblio# bibo: http://purl.org/ontology/bibo/ book: http://purl.org/NET/book/vocab# ov: http://open.vocab.org/terms/ doap: http://usefulinc.com/ns/doap# dbr: http://dbpedia.org/resource/ dbp: http://dbpedia.org/property/ sio: http://semanticscience.org/resource/ opmw: http://www.opmw.org/ontology/ deo: http://purl.org/spar/deo/ doco: http://purl.org/spar/doco/ cito: http://purl.org/spar/cito/ fabio: http://purl.org/spar/fabio/ solid: http://www.w3.org/ns/solid/terms# acl: http://www.w3.org/ns/auth/acl# dio: https://w3id.org/dio# lsc: http://linkedscience.org/lsc/ns#" typeof="schema:CreativeWork sioc:Post prov:Entity lsc:Research">
  <header>
  <h1 id="providing-command-line-support-for-solid-workflows">Providing Command Line support for Solid Workflows</h1>

</header>

<!-- Hack to make our custom fonts load in print-mode -->
<!-- https://stackoverflow.com/questions/39364259/chrome-print-preview-doesnt-load-media-only-print-font-face -->
<p><span class="printfont1"> </span>
<span class="printfont2"> </span>
<span class="printfont3"> </span>
<span class="printfont4"> </span></p>

<div id="content">
  <section id="abstract" inlist="" rel="schema:hasPart" resource="#abstract">
<div datatype="rdf:HTML" property="schema:description">
      <h2 property="schema:name">Abstract</h2>
      <!-- Context      -->
      <p>The tooling around the Solid protocol for realizing personal data vaults is mainly focused on Web-based applications.
<!-- Need         -->
Nevertheless, system administrators may prefer command-line workflows 
for resource management and exchange, for which tooling is currently lacking.
<!-- Task         -->
We developed a command-line tool called Bashlib as a 
wrapper around common command-line utilities that integrates
Solid authentication and authorization functionality.
<!-- Object       -->
Support is provided for multiple authentication flows 
and switching authenticated sessions. Management for resource 
sharing has been integrated supporting both authorization standards 
in WAC and ACP, as well as utilities for resource management
and the evaluation of SPARQL queries over the document structure.
<!-- Findings     -->
<!-- ## No findings ## -->
<!-- Conclusion   -->
This way, Bashlib opens up adoption pathways for existing data flows to
expand data sharing in the Solid ecosystem.
<!-- Perspectives -->
<!-- ## No perspectives ## --></p>
    </div>
</section>


<main>
  <!-- Add sections by specifying their file name, excluding the '.md' suffix. -->
  <section id="introduction" inlist="" rel="schema:hasPart" resource="#introduction">
<div datatype="rdf:HTML" property="schema:description">
        <h2 property="schema:name">Introduction</h2>

        <!-- * Integrating Solid in workflows requires intensive knowledge of libraries and programming languages. -->
        <!-- * Where BASH allows for straightforward integration in existing workflows, Solid has little tooling to support this. -->
        <!-- * We present BashLib as a Solid authentication wrapper for common BASH functionality and Solid-specific additions -->
        <!-- * Goal to enable CLI flows to integrate Solid in their workflow -->

        <p>The <a property="schema:citation http://purl.org/spar/cito/cites" href="https://www.semanticscholar.org/paper/Solid-%3A-A-Platform-for-Decentralized-Social-Based-Sambra-Mansour/5ac93548fd0628f7ff8ff65b5878d04c79c513c4">Solid Specification</a> <span class="references">[<a href="#ref-1">1</a>]</span> defines a protocol for
managing and exchanging data as resources on the Web, to empower its users 
with control over their data and providing data interoperability 
in the Web ecosystem<span class="references">[<a href="#ref-2">2</a>]</span>.
By focusing support on the Web application ecosystem, 
workflows for data management and exchange that are 
outside the browser ecosystem are restricted in their options 
to integrate with the Solid ecosystem.
The command line supports a rich ecosystem of workflows that orchestrate 
data management, sharing, and integration for both private and professional use cases.
Providing support for Solid in this command line ecosystem can enable straightforward
integration pathways for these workflows into the Solid ecosystem.</p>

        <p>To address this lack of tooling, we introduce BashLib as a Solid compatibility wrapper
for the command line. It provides commonly used command line utilities for resource management 
and integrates them with Solid functionality for authentication, authorization, and managing 
resource sharing on the Web. 
Additional capabilities such as evaluation of SPARQL queries over the document structure 
of a Solid pod and local editing of remote resources are also provided.
By bridging the gap between Solid and the command line, 
BashLib aims to facilitate broader adoption of the Solid outside the browser ecosystem.</p>

        <p>Setting an example use-case, we have the case of a researcher making a presentation
for an upcoming conference. We look at how Bashlib can support our researcher Ben 
to integrate their workflow of receiving feedback from colleagues on a presentation 
in development and the public publishing the resulting presentation using their Solid pod.</p>

        <p>The full tutorial of Bashlib can be found on this <a href="">website</a><sup id="fnref:tutorial"><a href="#fn:tutorial" class="footnote" rel="footnote" role="doc-noteref">1</a></sup>.</p>

      </div>
</section>

  <section id="authentication" inlist="" rel="schema:hasPart" resource="#authentication">
<div datatype="rdf:HTML" property="schema:description">
        <h2 property="schema:name">Authentication</h2>

        <!-- * Solid authentication is the core on which its privacy systems are built. -->
        <!-- * Bashlib supports interactive browser login flows -->
        <!-- * Bashlib supports hot-swapping authentication sessions on the fly to quickly swap between professional and personal identities. -->
        <!-- * As interactive authentication flows are essential for back-end tasks, we support the latest client credentials implementations from both the CSS and ESS implementations. -->

        <p>Authentication is a fundamental component of the Solid protocol, 
serving as the foundation for its privacy and data sharing mechanism.
As different workflows impose different constraints on the management
of user identity and authentication, Bashlib supports the following authentication capabilities:</p>

        <ol>
          <li>
            <p>Compatibility with the <a href="https://solidproject.org/TR/oidc">Solid OpenID Connect</a><sup id="fnref:solid-oidc"><a href="#fn:solid-oidc" class="footnote" rel="footnote" role="doc-noteref">2</a></sup>
speficiation is integrated in Bashlib, proving an interactive authentication flow via the browser.
As this is the standardized login flow, it is compatible with all Solid Server implementations, 
but it comes with a downside of requiring user interaction to authenticate
which can make it undesirable in automated command-line workflows.</p>
          </li>
          <li>
            <p>Alternatively, support is added for token-based authentication options that are 
provided by both the <a property="schema:citation http://purl.org/spar/cito/cites" href="https://communitysolidserver.github.io/CommunitySolidServer/latest/">Community Solid Server (CSS)</a> <span class="references">[<a href="#ref-3">3</a>]</span><sup id="fnref:CSS"><a href="#fn:CSS" class="footnote" rel="footnote" role="doc-noteref">3</a></sup>
and the <a property="schema:citation http://purl.org/spar/cito/cites" href="https://www.inrupt.com/products/enterprise-solid-server">Enterprise Solid Server (ESS)</a> <span class="references">[<a href="#ref-4">4</a>]</span><sup id="fnref:ESS"><a href="#fn:ESS" class="footnote" rel="footnote" role="doc-noteref">4</a></sup> implementations of the Solid Server.
These token-based authentication options do not require any user interaction after
generating the client token when setting up new authenticated sessions, 
making them ideal for automated background workflows or commonly used routines.
As these token-based authentication options are not standardized 
and differ between implementations, they can break at any point
and are advised only for server hosting does not update their
underlying implementation or that is under user control.</p>
          </li>
          <li>
            <p>Finally, support is provided for switching authenticated sessions.
As different workflows may have different identity requirements, as is often the case
when combining professional and personal data management tasks, 
authentication systems need to take this into account.
Bashlib performs internal caching of authenticated sessions and provides support
for passing an identity parameter to any call, or opening an interactive
form to swap out the active session identity.</p>
          </li>
        </ol>

        <p>Returning to the example, researcher Ben has their Solid Pod hosted
on a CSS instance.
To setup bashlib to work without needing user interaction, 
Ben sets up the token-based authentication flow to prevent interruptions
from authentication popups during work. For this, Ben executes the code
in <a href="#authentication-listing">Listing 1</a> and provides their email and password
information via the interactive command line form.</p>

        <figure id="authentication-listing" class="listing">
<pre style="font-size: 14px"><code>npx bashlib-solid auth create-token-css 
    --webid https://bob.myPodProvider.org/profile/card#me
</code></pre>
<figcaption>
            <p><span class="label">Listing 1:</span> The researcher creates a credential token to setup automated authentication for their workflows. Email and password info is provided in the interactive cli form.</p>
          </figcaption>
</figure>

      </div>
</section>

  <section id="authorization" inlist="" rel="schema:hasPart" resource="#authorization">
<div datatype="rdf:HTML" property="schema:description">
        <h2 property="schema:name">Authorization</h2>

        <!-- * As Solid supports two authorization specifications, we support the management using both specifications, using the INRUPT AUthentication libraries. -->
        <!-- * The AC mechanism is discovered on the fly -->
        <!-- * For managing Access Control Resources, we do not support the full suite of functionality yet, only the Universal API by INRUPT tooling. -->

        <p>The Solid authorization mechanism determines how resource access is granted and managed.
The current Solid ecosystem supports two distinct authorization systems: 
The <a href="https://solidproject.org/TR/wac">Web Access Control (WAC)</a><sup id="fnref:ACP"><a href="#fn:ACP" class="footnote" rel="footnote" role="doc-noteref">5</a></sup> specification and 
the <a href="https://solidproject.org/TR/acp">Access Control Policy (ACP)</a><sup id="fnref:WAC"><a href="#fn:WAC" class="footnote" rel="footnote" role="doc-noteref">6</a></sup> specification. 
The coexistence of these two specification in the Solid ecosystem 
adds complexity in having to support seamless integration between
these competing authorization standards.</p>

        <p>Bashlib integrates the core functionality of both authorization mechanisms 
in their management of individual resources based on the identity of the
requesting party. The used authorization system is recognized dynamically
and the management interface is chosen accordingly.
Where the ACP specification is more elaborate in its functionality than the
WAC specification, only the resource-specific management of identity-based
access control is supported. managing resources on a WAC-based Solid Server
implementation, group identities and recursive authorization management is supported.</p>

        <!-- Should we mention Inrupt here? -->
        <!-- leveraging the [Inrupt authentication library](todo: footnote) to implement permission management, -->
        <!-- 

For modifying access permissions, BashLib currently supports the Universal API provided by Inrupt’s tooling. While this does not yet encompass the full range of functionality available for managing Access Control Resources (ACRs), it provides a streamlined way to handle common authorization tasks. This allows users to interact with Solid’s access control models without needing to manually configure complex permission structures. -->

        <p>Simplifying the authorization management to resource-based authentication management
command-line workflows can integrate all Solid compatible systems into their flows,
and provide authorization management based on external systems such as cron jobs.</p>

        <p>Continuing the example, Ben needs both a public location to 
publish completed presentations and a private location 
where work in progress can be shared with colleagues.
To achieve this, Ben creates a public Solid container
in which the final publications are published, 
and a private Solid container to store in-progress work
to be shared with their colleagues Jos and Ella as shown in <a href="#auth-listing">Listing 2</a>.</p>

        <figure id="auth-listing" class="listing">
<pre style="font-size: 14px"><code># Initializing the public workspace
npx bashlib-solid mkdir base:/public/presentations/
npx bashlib-solid access set --default 
    base:/public/presentations/ p=[r]

# Intializing the private workspace
npx bashlib-solid mkdir base:/private/presentations/
npx bashlib-solid access set --default 
    base:/private/presentations/ https://jos.myPodProvider.org/profile/card#me=r
npx bashlib-solid access set --default 
    base:/private/presentations/ https://ella.myPodProvider.org/profile/card#me=r
</code></pre>
<figcaption>
            <p><span class="label">Listing 2:</span> A location for public presentations setting read permissions for the public (p=r) is created at https://ben.myPodProvider.org/public/presentations/.
The private location created at https://ben.myPodProvider.org/private/presentations/ however only provides read access for Jos and Ella (&lt;id&gt;=r).</p>
          </figcaption>
</figure>

      </div>
</section>

  <section id="suite" inlist="" rel="schema:hasPart" resource="#suite">
<div datatype="rdf:HTML" property="schema:description">
        <h2 property="schema:name">Resource management</h2>

        <p>To support the resource management requirements of command-line based workflows,
Bashlib integrates a set of command-line utilities for resource management
with the Solid resource interface.</p>

        <!-- Basic Shell Utilities -->
        <p>Bashlib implements the following set of utility functions that align with their command-line 
counterparts: 
The <code>curl</code> utility uses the authenticated Solid session to add outgoing Authentication headers.
The <code>ls</code> utility provides directory listings of the target Solid container.
The <code>tree</code> utility provides a recursive tree listing starting from the targeted Solid container.
The <code>cp</code> and <code>mv</code> utilities provide functionality to move and copy resources between both the 
local file system and Solid pods, automatically recognizing the source and target destinations
as being local or URIs and managing the transfer of resources accordingly.
The <code>touch</code>, <code>mkdir</code> and <code>rm</code> utilities provide functionality to create and remove resources and
containers on a Solid pod.
Finally, the <code>find</code> utility enables the searching of resources 
on a Solid pod based on their resource URI.
Note that in the above implemented set of utilities, 
exact formatting of output may vary from their native counterparts
and not all flags are implemented.</p>

        <p>Additionally, some Solid specific utility functions have been added.
The <code>query</code> utility executes a SPARQL query either over the individual resources
or the federated set of resources in the target Solid container, 
using the <a href="https://comunica.dev/">Comunica</a><span class="references">[<a href="#ref-5">5</a>]</span> query engine. 
The <code>edit</code> utility is used to load an external resource in a local editor,
and update the resulting resource when saved.</p>

        <p>Providing the above set of CLI utilities,
Bashlib provides a base set of functionality 
that is required to integrate existing 
command line workflows into the Solid ecosystem.</p>

        <p>In our running example, having created the Solid containers
for in-progress work and public presentations in <a href="#auth-listing">Listing 2</a>,
Ben now sets up the scripts to sync his work to
the in-progress container <a href="#private-publishing">Listing 3</a>
that will be visible for Jos and Ella to read
for feedback, and the sync script for the finished 
presentation in <a href="#public-publishing">Listing 4</a>
that makes the result public.</p>

        <figure id="private-publishing" class="listing">
<pre style="font-size: 14px"><code>&gt; publish-private.sh
#!/bin/bash
npx bashlib-solid cp sosy-presentation/ base:/private/publication/
</code></pre>
<figcaption>
            <p><span class="label">Listing 3:</span> Publish work in progress in the restricted access container on the user Solid pod.</p>
          </figcaption>
</figure>

        <figure id="public-publishing" class="listing">
<pre style="font-size: 14px"><code>&gt; publish-public.sh
#!/bin/bash
npx bashlib-solid cp sosy-presentation/ base:/public/publication/
</code></pre>
<figcaption>
            <p><span class="label">Listing 4:</span> Publish finished work in the public access container on the user Solid pod.</p>
          </figcaption>
</figure>
      </div>
</section>

  <section id="conclusion" inlist="" rel="schema:hasPart" resource="#conclusion">
<div datatype="rdf:HTML" property="schema:description">
        <h2 property="schema:name">Conclusion</h2>

        <!-- * Bashlib provides the necessary functionality to integrate Solid in CLI workflows. -->
        <!-- * Bashlib can perform automated background tasks for multiple profiles. -->

        <p>In this paper we introduced BashLib, a command-line program that provides 
a base set of utilities to help integrate command-line workflows in the Solid ecosystem.
It provides a simple interface for the management of Solid authentication and authorization
functions and a mapping for commonly used utilities for data management that integrate the Solid protocol.
Supporting both the specification compliant flow and
the implementation dependent token-based flows for authentication,
Bashlib aims to be both future-proof and feature-complete in its implementation.
Similarly, supporting both authorization systems allows integration 
independent of the used server implementation.
This way, BashLib lowers the barrier for developers and systems administrators
to integrate both new and existing workflows into the Solid ecosystem.</p>

      </div>
</section>

</main>


<footer>
<section>
<h2 id="references">References</h2>
<dl class="references">
  <dt id="ref-1">[1]</dt>
  <dd resource="https://www.semanticscholar.org/paper/Solid-%3A-A-Platform-for-Decentralized-Social-Based-Sambra-Mansour/5ac93548fd0628f7ff8ff65b5878d04c79c513c4" typeof="schema:Article">Sambra, A., Mansour, E., Hawke, S., Zereba, M., Greco, N., Ghanem, A., Zagidulin, D., Aboulnaga, A., Berners-Lee, T.: Solid : A Platform for Decentralized Social Applications Based on Linked Data. Presented at the (2016).</dd>
  <dt id="ref-2">[2]</dt>
  <dd resource="https://dx.doi.org/10.1145/3591366.3591385" typeof="schema:Chapter">Verborgh, R.: Re-Decentralizing the Web, For Good This Time. In: Seneviratne, O. and Hendler, J. (eds.) Linking the World’s Information: Essays on Tim Berners-Lee’s Invention of the World Wide Web. pp. 215–230. ACM (2023). doi:10.1145/3591366.3591385</dd>
  <dt id="ref-3">[3]</dt>
  <dd resource="https://communitysolidserver.github.io/CommunitySolidServer/latest/" typeof="schema:Article">Van Herwegen, J., Verborgh, R.: The Community Solid Server: Supporting research &amp; development in an evolving ecosystem. Semantic Web. 15, 2597–2611 (2024).</dd>
  <dt id="ref-4">[4]</dt>
  <dd resource="https://www.inrupt.com/products/enterprise-solid-server" typeof="schema:CreativeWork">Enterprise Server Software From Inrupt. <a href="https://www.inrupt.com/products/enterprise-solid-server">https:/​/​www.inrupt.com/products/enterprise-solid-server</a></dd>
  <dt id="ref-5">[5]</dt>
  <dd resource="#taelman2018comunica" typeof="schema:Article">Taelman, R., Van Herwegen, J., Vander Sande, M., Verborgh, R.: Comunica: a modular SPARQL query engine for the web. In: The Semantic Web–ISWC 2018: 17th International Semantic Web Conference, Monterey, CA, USA, October 8–12, 2018, Proceedings, Part II 17. pp. 239–255. Springer (2018).</dd>
</dl>
</section>
</footer>

<div class="footnotes">
  <hr />
  <p>The 2nd Solid Symposium Poster Session, co-located with the 3rd Solid Symposium, April 24 &#8211; 25, 2025, Leiden, Netherlands</p>
  <p>© 2025 Copyright for this paper by its authors. Use permitted under Creative Commons License Attribution 4.0 International (CC BY 4.0).</p>
  <hr />


</div></div>
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:tutorial">
      <p>redacted for double blind <a href="#fnref:tutorial" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:solid-oidc">
      <p><a href="https://solidproject.org/TR/oidc">https:/​/​solidproject.org/TR/oidc</a> <a href="#fnref:solid-oidc" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:CSS">
      <p>The <a href="[cite:cites van2024community](https://communitysolidserver.github.io/CommunitySolidServer/latest/)">Community Solid Server</a> is a research project developed by the <a href="https://knows.idlab.ugent.be/">KNoWS team</a> at Ghent University. <a href="#fnref:CSS" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:ESS">
      <p>The <a href="https://www.inrupt.com/">Enterprise Solid Server</a> is a Solid Server implementation by <a href="https://www.inrupt.com/">Inrupt</a>. <a href="#fnref:ESS" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:ACP">
      <p><a href="https://solidproject.org/TR/acp">https:/​/​solidproject.org/TR/acp</a> <a href="#fnref:ACP" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:WAC">
      <p><a href="https://solidproject.org/TR/wac">https:/​/​solidproject.org/TR/wac</a> <a href="#fnref:WAC" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

</body>
</html>
